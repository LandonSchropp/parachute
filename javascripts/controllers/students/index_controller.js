(function(){Parachute.StudentsIndexController=Ember.ArrayController.extend({emptyStudent:null,listsOfPairs:[],listsOfPairsEmpty:function(){return this.get("listsOfPairs").length===0}.property("listsOfPairs"),updateListsOfPairs:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;s=Ember.copy(this._filteredStudents(),!0),r=this._roundRobin(s,this.emptyStudent);for(u=0,c=r.length;u<c;u++){n=r[u];for(e=a=0,h=n.length;a<h;e=++a)i=n[e],t=Math.floor(Math.random()*(e+1)),o=n[e],n[e]=n[t],n[t]=o}for(f=0,p=r.length;f<p;f++){n=r[f];for(e=l=0,d=n.length;l<d;e=++l)i=n[e],i[0]===this.emptyStudent&&(i[0]=i[1],i[1]=this.emptyStudent),e!==n.length-1&&(i[0]===this.emptyStudent||i[1]===this.emptyStudent)&&(o=n[e],n[e]=n[n.length-1],n[n.length-1]=o)}for(e=m=0,v=r.length;m<v;e=++m)n=r[e],n.index=e+1;return this.set("listsOfPairs",r)},_roundRobin:function(e,t){var n,r,i,s;return e.length===0?[]:(e=Ember.copy(e),e.length%2===1&&e.push(t),n=function(){s=[];for(var t=0,n=e.length-2;0<=n?t<=n:t>=n;0<=n?t++:t--)s.push(t);return s}.apply(this).map(function(t){return[e[0]].concat(e.slice(t+1),e.slice(1,1+t))}),n.map(function(e){var t,n,r;return function(){r=[];for(var t=0,n=e.length/2-1;0<=n?t<=n:t>=n;0<=n?t++:t--)r.push(t);return r}.apply(this).map(function(t){return[e[t],e[e.length-t-1]]})}))},_filteredStudents:function(){return this.get("content").filter(function(e){return e.name!=null&&!/^\s*$/.test(e.name)})}})}).call(this);